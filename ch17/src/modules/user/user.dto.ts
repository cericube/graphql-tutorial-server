// /src/modules/user/user.dto.ts

// Zodλ” λ°νƒ€μ„ μ ν¨μ„± κ²€μ¦μ„ μ„ν• νƒ€μ… μ•μ „(schema-based)μ JavaScript λΌμ΄λΈλ¬λ¦¬μ…λ‹λ‹¤.
// GraphQL, REST APIμ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ°›μ€ μ…λ ¥κ°’μ„ μ•μ „ν•κ² κ²€μ¦ν•λ” λ° λ„λ¦¬ μ‚¬μ©λ©λ‹λ‹¤.
import { z } from 'zod';

/**
 * userIdSchema: λ‹¨μΌ μ‚¬μ©μ μ΅°ν μ‹ μ‚¬μ©ν•λ” ID νλΌλ―Έν„° κ²€μ¦ μ¤ν‚¤λ§
 *
 * GraphQL Query.user(id: Int!) λλ” REST /users/:id μ™€ κ°™μ΄
 * μ‚¬μ©μ IDλ¥Ό κΈ°λ°μΌλ΅ νΉμ • μ μ €λ¥Ό μ΅°νν•  λ•, ν•΄λ‹Ή `id` κ°’μ΄
 * λ°λ“μ‹ "μ–‘μ μ •μ"μ—¬μ•Ό ν•λ‹¤λ” μ μ•½μ„ μ„¤μ •ν•©λ‹λ‹¤.
 *
 * μ΄ DTOλ” μ„λΉ„μ¤ κ³„μΈµ(user.service.ts)μ—μ„ `safeParse()`λ¥Ό ν†µν•΄ κ²€μ¦λλ©°,
 * μ‹¤ν¨ μ‹ GraphQL μ—λ¬λ΅ ν΄λΌμ΄μ–ΈνΈμ— μλ―Έ μλ” ν”Όλ“λ°±μ„ μ¤„ μ μμµλ‹λ‹¤.
 */
export const userIdSchema = z.object({
  // π”Ή idλ” μ •μ(int)μ΄λ©° 0λ³΄λ‹¤ μ»¤μ•Ό ν•©λ‹λ‹¤.
  // π”Ή μ—λ¬ λ°μƒ μ‹ μ‚¬μ©μμ—κ² λ³΄μ—¬μ¤„ λ©”μ‹μ§€λ¥Ό λ…μ‹μ μΌλ΅ μ„¤μ •ν•  μ μμµλ‹λ‹¤.
  id: z.number().int().positive({
    error: 'μ ν¨ν• μ‚¬μ©μ IDμ—¬μ•Ό ν•©λ‹λ‹¤.', // κ²€μ¦ μ‹¤ν¨ μ‹ λ°ν™ν•  μ»¤μ¤ν…€ λ©”μ‹μ§€
  }),
});
